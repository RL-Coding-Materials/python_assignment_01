import pytest  # type: ignore
import subprocess

import random


def test_ruler_exec():
    data = (
        (
            (),
            "|....|....|....|....|....|....|....|....|....|....|\n0    1    2    3    4    5    6    7    8    9   10",
        ),
        (
            (10,),
            "|....|....|....|....|....|....|....|....|....|....|\n0    1    2    3    4    5    6    7    8    9   10",
        ),
        (
            (10, 0),
            "|....|....|....|....|....|....|....|....|....|....|\n0    1    2    3    4    5    6    7    8    9   10",
        ),
        (
            (10, 5),
            "|....|....|....|....|....|....|....|....|....|....|\n0    1    2    3    4    5    6    7    8    9   10",
        ),
        (
            (5, 5),
            "|....|....|....|....|....|\n0    1    2    3    4    5",
        ),
        (
            (5, 0),
            "|....|....|....|....|....|\n0    1    2    3    4    5",
        ),
        (
            (12, 3),
            "|..|..|..|..|..|..|..|..|..|..|..|..|\n0  1  2  3  4  5  6  7  8  9 10 11 12",
        ),
    )

    for d in data:
        assert (
            subprocess.check_output(
                ["python", "ruler.py"] + [str(x) for x in d[0]]
            ).decode()
            == f"{d[1]}\n"
        )
